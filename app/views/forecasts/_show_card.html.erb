<div class="mt-6">
  <div class="font-semibold text-blue-900 mb-2">3-Day Forecast</div>
  <div class="grid grid-cols-3 gap-2">
    <% daily = forecast.data["daily"] && forecast.data["daily"]["data"] ? forecast.data["daily"]["data"] : [] %>
    <% daily.first(3).each do |day| %>
      <div class="bg-blue-200 rounded p-2 flex flex-col items-center">
        <div class="text-xs text-blue-700 mb-1"><%= Time.at(day["time"]).in_time_zone(forecast.data["timezone"] || 'UTC').strftime('%a') rescue '' %></div>
        <% if day["icon"] %>
          <img src="https://cdn.jsdelivr.net/gh/rickellis/SVG-Weather-Icons@master/DarkSky/<%= day["icon"] %>.svg" alt="<%= day["icon"] %> icon" class="w-8 h-8 mb-1" onerror="this.onerror=null;this.style.display='none';">
        <% else %>
          <span class="text-xs text-gray-500">No icon</span>
        <% end %>
        <div class="text-sm text-blue-800 font-bold"><%= day["temperatureHigh"].round if day["temperatureHigh"] %>Â°F</div>
        <div class="text-xs text-blue-600"><%= day["summary"] %></div>
      </div>
    <% end %>
  </div>
</div>
